<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDC Project Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo">PDC Dashboard</h1>
                    <p class="subtitle">Projection & Design Club Project Tracker</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn--primary" id="addProjectBtn">
                        <span>+ Add Project</span>
                    </button>
                    <button class="btn btn--outline" id="exportBtn">Export</button>
                    <input type="file" id="importFile" accept=".json" style="display: none;">
                    <button class="btn btn--outline" id="importBtn">Import</button>
                </div>
            </div>
            
            <!-- Search and Filter Bar -->
            <div class="search-filter-bar">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search projects..." class="form-control">
                </div>
                <div class="filter-container">
                    <select id="statusFilter" class="form-control">
                        <option value="">All Status</option>
                        <option value="Not Started">Not Started</option>
                        <option value="In Progress">In Progress</option>
                        <option value="Completed">Completed</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Dashboard View -->
            <div id="dashboardView" class="view">
                <div class="projects-grid" id="projectsGrid">
                    <!-- Projects will be rendered here -->
                </div>
                <div id="emptyState" class="empty-state hidden">
                    <div class="empty-state-content">
                        <h3>No Projects Yet</h3>
                        <p>Start by adding your first project to track progress and collaborate with your team.</p>
                        <button class="btn btn--primary" onclick="document.getElementById('addProjectBtn').click()">
                            Add Your First Project
                        </button>
                    </div>
                </div>
            </div>

            <!-- Project Detail View -->
            <div id="detailView" class="view hidden">
                <div class="detail-header">
                    <button class="btn btn--outline btn--sm" id="backToDashboard">‚Üê Back to Dashboard</button>
                    <div class="detail-actions">
                        <button class="btn btn--outline btn--sm" id="editProjectBtn">Edit</button>
                        <button class="btn btn--outline btn--sm status--error" id="deleteProjectBtn">Delete</button>
                    </div>
                </div>
                <div class="detail-content" id="detailContent">
                    <!-- Detail content will be rendered here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Add/Edit Project Modal -->
    <div id="projectModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Project</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="projectForm">
                    <div class="form-group">
                        <label class="form-label" for="title">Project Title *</label>
                        <input type="text" id="title" name="title" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="description">Description</label>
                        <textarea id="description" name="description" class="form-control" rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="mentor">Mentor (4th Year) *</label>
                            <input type="text" id="mentor" name="mentor" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="status">Status</label>
                            <select id="status" name="status" class="form-control">
                                <option value="Not Started">Not Started</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="startDate">Start Date</label>
                            <input type="date" id="startDate" name="startDate" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="dueDate">Due Date</label>
                            <input type="date" id="dueDate" name="dueDate" class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="progress">Progress (%)</label>
                        <input type="range" id="progress" name="progress" min="0" max="100" value="0" class="progress-slider">
                        <div class="progress-display">
                            <span id="progressValue">0%</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Assignees (Juniors)</label>
                        <div id="assigneesList" class="dynamic-list">
                            <input type="text" class="form-control assignee-input" placeholder="Enter assignee name">
                        </div>
                        <button type="button" class="btn btn--outline btn--sm" id="addAssignee">+ Add Assignee</button>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Resources</label>
                        <div id="resourcesList" class="dynamic-list">
                            <div class="resource-row">
                                <input type="text" class="form-control resource-name" placeholder="Resource name">
                                <input type="url" class="form-control resource-url" placeholder="Resource URL">
                            </div>
                        </div>
                        <button type="button" class="btn btn--outline btn--sm" id="addResource">+ Add Resource</button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn--outline" id="cancelBtn">Cancel</button>
                <button type="submit" form="projectForm" class="btn btn--primary" id="saveBtn">Save Project</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-content--sm">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this project? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn--outline" id="cancelDeleteBtn">Cancel</button>
                <button type="button" class="btn status--error" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p class="footer-note">
                <strong>Note:</strong> Data resets on page reload (sandbox limitation). 
                For persistence, consider integrating Firebase Realtime Database or Google Sheets API.
            </p>
        </div>
    </footer>

    <script type="module" src="app.js"></script>
</body>
</html>